<!DOCTYPE html>
<html lang="ko"   xmlns:th="http://www.thymeleaf.org" 
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
layout:decorate="~{fragments/layout}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- Latest compiled and minified CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<!-- Latest compiled JavaScript -->
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
	<th:block layout:fragment="content">
		<div class="container mt-3">
		  <h2>회원관리</h2>
		  <p>The .table-hover class enables a hover state (grey background on mouse over) on table rows:</p>            
		  <table style="caption-side: top" class="table table-hover">
		  <caption>회원리스트</caption>
		    <thead>
		      <tr class="table-secondary">
		        <th>회원아이디</th>
		        <th>이메일</th>
		        <th>휴대폰번호</th>
		        <th>주소</th>
		        <th>경고횟수</th>
		        <th>회원상태</th>
		        <th>가입일</th>
		        <th>IP</th>
		        <th>탈퇴</th>
		      </tr>
		    </thead>
		    <tbody>
		    	<div th:if="${list != null}">
		      <tr th:each="dto, status : ${list}">
		        <td th:text="${dto.memberId}"></td>
		        <td th:text="${dto.email}"></td>
		        <td th:text="${dto.mobileNumber}"></td>
		        <td th:text="|${dto.addressPost} ${dto.addressRoad} ${dto.addressJibun} ${dto.addressDetail}|"></td>
		        <td th:text="${dto.memberWarning}"></td>
		        <td th:text="${dto.member_status.memberStatus}"></td>
		        <td th:text="${#temporals.format(dto.memberJoinDate,'yyyy-MM-dd')}"></td>
		        <td th:text="${dto.joinIp}"></td>
		        <td><p><a class="btn btn-warning btn-sm" th:href="@{|/admin/memberDelete/${dto.memberId}|}" th:text="탈퇴"></a> </p></td>
		      </tr>
		        </div>
		            <div th:if="${list == null}">
		        	<td style="text-align: center;" colspan="9">회원이 존재하지 않습니다.</td>
		        </div>
		    </tbody>
		  </table>
		</div>
	</th:block>
</body>
</html>